<form [formGroup]="emailTemplatesForm">
  <div class="form-group">
    <label>Plantilla</label>
    <button *ngIf="!(f.templateElement.errors)"  type="button" class="btnAction btnView" placement="bottom" ngbTooltip="Previsualizar" tooltipClass="tooltipEdit"
    (click)="open(content)">
    <fa-icon [icon]="viewIcon"></fa-icon>
  </button>
    <select class="form-control" formControlName="templateElement" (change)="dataChange()" [ngClass]="{ 'is-invalid': submitted && f.templateElement.errors }">
      <option *ngFor="let option of templatesOptions" value="{{option.id}}">{{option.templateName}}</option>
    </select>
    <div *ngIf="submitted && f.templateElement.errors" class="invalid-feedback">
      <div *ngIf="f.templateElement.errors.required">Debe seleccionar una plantilla</div>
    </div>
  </div>

  
  
  <ng-template #content let-modal >
      <div class="modal-header">
          <h4 class="modal-title" id="modal-basic-title">{{getTemplateName(f.templateElement.value)}}</h4>
          <button type="button" class="close" aria-label="Close" (click)="cancel()">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
            <div [innerHTML]="transform(templateSelectedModified)"></div>
        </div>
      
  </ng-template>

</form>